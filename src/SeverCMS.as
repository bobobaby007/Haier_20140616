package  {	import flash.events.EventDispatcher;	import flash.events.Event;	import flash.display.MovieClip;	import flash.events.MouseEvent;	import com.adobe.serialization.json.JSON_as	/*$gt:大于$lt:小于$gte:大于或等于$lte:小于或等于*/	public class SeverCMS extends MovieClip{		static private var _self:SeverCMS				public function SeverCMS() {			_get.addEventListener(MouseEvent.CLICK,mouseHander)			_dateBtn.addEventListener(MouseEvent.CLICK,mouseHander)		}		private function mouseHander(event:MouseEvent){			switch(event.currentTarget){				case _get:					getIt()				break				case _dateBtn:					changeDate()				break			}		}		private function changeDate(){			var _date:Date=new Date(_dateTest_txt.text)			_dateResult_txt.text=_date.getTime().toString()		}		private function getIt(){			if(_cell_txt.text!=""){				DouBan_Cell._Self._campaign_name=_cell_txt.text			}			if(_key_txt.text!=""){				DouBan_Cell._Self._key=_key_txt.text			}									if(_get_txt.text==""){				_get_txt.text="{}"			}			if(_asResult_txt.text==""){				_asResult_txt.text="{}"			}			if(_num_txt.text==""){				_num_txt.text="20"			}			if(_sortBy_txt.text==""){				_sortBy_txt.text="{}"			}			//return			//DouBan_Cell._Self._get({"DataType":"People","Gender":"0"},{"UserId":1,"Gender":1,"UserName":1,"UserImg":1,"TestScoreNum":1,"TestScore":1},5,__Hander,{"TestScoreNum":-1})			//DouBan_Cell._Self._get(JSON_as.decode(_get_txt.text),{})						DouBan_Cell._Self._get(JSON_as.decode(_get_txt.text),JSON_as.decode(_asResult_txt.text),Number(_num_txt.text),getHander,JSON_as.decode(_sortBy_txt.text))		}		private function getHander(__result:Array){						var _mobiles:Array=[]			var _str:String=""			var _pragrams:Array=[]			if(__result.length>0){					for(var b in __result[0]){						_pragrams.push(b)						_str+=b						_str+=" | "					}			}			_str+="\n"			for(var i:int=0;i<__result.length;i++){				if(__result[i].Mobile){						if(_mobiles.indexOf(__result[i].Mobile)!=-1){							continue						}else{							_mobiles.push(__result[i].Mobile)						}										}				for(var t:int=0;t<_pragrams.length;t++){					if(_pragrams[t].toString()=="GetAtTime"){						var _date:Date=new Date(__result[i][_pragrams[t]])						_str+=_date.toDateString()					}else{												_str+=__result[i][_pragrams[t]]					}										_str+=" | "				}				//for(var t in __result[i]){//					//_str+=t//					//					if(t.toString()=="GetAtTime"){//						var _date:Date=new Date(__result[i][t])//						_str+=_date.toDateString()//					}else{//						//						_str+=__result[i][t]//					}//					//					_str+=" | "//				}				//_str+=JSON_as.encode(__result[i])				_str+="\n"			}			_result_txt.text=_str			_resultNum_txt.text=__result.length.toString()+"/"+_mobiles.length.toString()		}//------	}			}
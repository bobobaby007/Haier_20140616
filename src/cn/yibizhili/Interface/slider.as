//AUTHOR:bobobaby007@hotmail.compackage cn.yibizhili.Interface{	import flash.display.Sprite;	import flash.geom.Rectangle;	import flash.events.MouseEvent;	public class slider {		private var _downListener:Function;		private var _upListener:Function;		private var _moveListener:Function;		private var _button:Sprite;		private var _percentage:Number;		private var _from:Number;		private var _length:Number;		private var _direction:String;		private var _setListener:Function;		public function slider($button:Sprite,$from:Number,$length:Number,$firstPercentage:Number=0,$direction:String="x") {			_button=$button;			_from=$from;			_length=$length;			_direction=$direction;			_percentage=$firstPercentage;			_button.addEventListener(MouseEvent.MOUSE_DOWN,downHander);			this.percentage=_percentage;		}		private function downHander(event:MouseEvent) {			if (_direction=="x") {				event.currentTarget.startDrag(false,new Rectangle(_from,_button.y,_length,0));				_percentage=100*(_button.x-_from)/_length;			}			if (_direction=="y") {				event.currentTarget.startDrag(false,new Rectangle(_button.x,_from,0,_length));                _percentage=100*(_button.y-_from)/_length;			}			if (_downListener!=null) {				_downListener.call(null,this,event.type);			}			_button.stage.addEventListener(MouseEvent.MOUSE_MOVE,moveHander);			_button.stage.addEventListener(MouseEvent.MOUSE_UP,upHander);		}		private function moveHander(event:MouseEvent) {			if (_direction=="x") {				_percentage=100*(_button.x-_from)/_length;			}			if (_direction=="y") {				_percentage=100*(_button.y-_from)/_length;			}			if (_moveListener!=null) {				_moveListener.call(null,this,event.type);			}			if (_setListener!=null) {				_setListener.call(null,this);			}		}		private function upHander(event:MouseEvent) {			_button.stopDrag();			if (_direction=="x") {				_percentage=100*(_button.x-_from)/_length;			}			if (_direction=="y") {				_percentage=100*(_button.y-_from)/_length;			}			if (_upListener!=null) {				_upListener.call(null,this,event.type);			}			if (_setListener!=null) {				_setListener.call(null,this);			}			_button.stage.removeEventListener(MouseEvent.MOUSE_UP,upHander);			_button.stage.removeEventListener(MouseEvent.MOUSE_MOVE,moveHander);		}		public function set downListener($listener:Function) {			_downListener=$listener;		}		public function set upListener($listener:Function) {			_upListener=$listener;		}		public function set moveListener($listener:Function) {			_moveListener=$listener;		}		public function set setListener($listener:Function) {			_setListener=$listener;		}		public function set button($button:Sprite) {			_button=$button;		}		public function set percentage($percentage) {			_percentage=$percentage;			if (_direction=="x") {				_button.x=_from+_percentage*_length/100;			}			if (_direction=="y") {				_button.y=_from+_percentage*_length/100;			}			if (_setListener!=null) {				_setListener.call(null,this);			}		}		public function get percentage() {			return _percentage;		}	}}
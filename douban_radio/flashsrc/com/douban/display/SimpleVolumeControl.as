package com.douban.display{	import flash.display.MovieClip;	import flash.net.SharedObject;	import flash.events.MouseEvent;	import com.douban.event.SeekEvent;	public class SimpleVolumeControl extends MovieClip {		public var volume;		protected var maxWidth;		protected var mySo:SharedObject;		public function SimpleVolumeControl() {			controller.addEventListener(MouseEvent.MOUSE_DOWN,onAdjust);			controller.buttonMode = true;			maxWidth=controller.width;			mySo=SharedObject.getLocal('mp3player','/');			if (mySo.data.volume != undefined) {				setVolume(mySo.data.volume);			} else {				setVolume(1);			}		}		private function onAdjust(event) {			setVolume(controller.mouseX / maxWidth);		}		public function setVolume(vol) {			if (vol>1) {				vol = 1;			}			if (vol<0) {				vol = 0;			}			var seekEv=new SeekEvent;			seekEv.percent=vol;			dispatchEvent(seekEv);			volume = vol;			volumeMask.width=maxWidth * vol;			mySo.data.volume=vol;			mySo.flush();		}	}}